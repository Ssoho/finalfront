{"ast":null,"code":"import _classCallCheck from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Form from\"react-validation/build/form\";import Input from\"react-validation/build/input\";import CheckButton from\"react-validation/build/button\";import AuthService from\"../services/auth.service\";import{withRouter}from'../common/with-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var required=function required(value){if(!value){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",style:{fontSize:'14px'},children:\"\\uD544\\uC218 \\uC785\\uB825\\uB780\\uC785\\uB2C8\\uB2E4!\"});}};var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.state={username:\"\",password:\"\",loading:false,message:\"\"};return _this;}_createClass(Login,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"handleLogin\",value:function handleLogin(e){var _this2=this;e.preventDefault();this.setState({message:\"\",loading:true});this.form.validateAll();if(this.checkBtn.context._errors.length===0){AuthService.login(this.state.username,this.state.password).then(function(){_this2.props.router.navigate(\"/\");window.location.reload();},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this2.setState({loading:false,message:resMessage});});}else{this.setState({loading:false});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signin-background\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"watermelon_logo.jpg\",alt:\"watermelon-img\",style:{display:'block',margin:'50px auto',maxWidth:'70%',cursor:'pointer'},onClick:function onClick(){_this3.props.router.navigate('/');}}),/*#__PURE__*/_jsx(\"h6\",{style:{color:'white',textAlign:'left',marginLeft:'50px',marginBottom:'-40px'},children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleLogin,ref:function ref(c){_this3.form=c;},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"signin\",name:\"username\",placeholder:\"\\uC544\\uC774\\uB514\",value:this.state.username,onChange:this.onChangeUsername,validations:[required]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",className:\"signin\",name:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",value:this.state.password,onChange:this.onChangePassword,validations:[required]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"signin-btn\",disabled:this.state.loading,children:[this.state.loading&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB85C\\uADF8\\uC778\"})]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'white',marginTop:'20px',fontSize:'14px'},children:[\"\\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\",/*#__PURE__*/_jsx(\"button\",{className:\"signupbtn\",onClick:function onClick(){_this3.props.router.navigate('/register');},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]}),this.state.message&&/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",style:{fontSize:'14px'},children:this.state.message})}),/*#__PURE__*/_jsx(CheckButton,{style:{display:\"none\"},ref:function ref(c){_this3.checkBtn=c;}})]})]})});}}]);return Login;}(Component);export default withRouter(Login);","map":{"version":3,"names":["React","Component","Form","Input","CheckButton","AuthService","withRouter","jsx","_jsx","jsxs","_jsxs","required","value","className","role","style","fontSize","children","Login","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleLogin","bind","_assertThisInitialized","onChangeUsername","onChangePassword","state","username","password","loading","message","_createClass","key","e","setState","target","_this2","preventDefault","form","validateAll","checkBtn","context","_errors","length","login","then","router","navigate","window","location","reload","error","resMessage","response","data","toString","render","_this3","src","alt","display","margin","maxWidth","cursor","onClick","color","textAlign","marginLeft","marginBottom","onSubmit","ref","c","htmlFor","type","name","placeholder","onChange","validations","disabled","marginTop"],"sources":["C:/박현호/프로젝트/react-jwt-auth/src/components/login.component.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport AuthService from \"../services/auth.service\";\nimport { withRouter } from '../common/with-router';\n\nconst required = value => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\" style={{ fontSize : '14px' }}>\n        필수 입력란입니다!\n      </div>\n    );\n  }\n};\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\"\n    };\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      AuthService.login(this.state.username, this.state.password).then(\n        () => {\n          this.props.router.navigate(\"/\");\n          window.location.reload();\n        },\n        error => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n\n          this.setState({\n            loading: false,\n            message: resMessage\n          });\n        }\n      );\n    } else {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"col-md-12\">\n        <div className='signin-background'>\n          <img\n            src=\"watermelon_logo.jpg\"\n            alt=\"watermelon-img\"\n            style={{ display: 'block', margin: '50px auto', maxWidth: '70%', cursor : 'pointer' }}\n            onClick={() => {this.props.router.navigate('/');}}\n          />\n          <h6 style={{ color: 'white', textAlign: 'left', marginLeft: '50px', marginBottom: '-40px'}}>로그인</h6>\n\n          <Form\n            onSubmit={this.handleLogin}\n            ref={c => {\n              this.form = c;\n            }}\n          >\n            <div className=\"col-form\">\n              <label htmlFor=\"username\"></label>\n              <Input\n                type=\"text\"\n                className=\"signin\"\n                name=\"username\"\n                placeholder=\"아이디\"\n                value={this.state.username}\n                onChange={this.onChangeUsername}\n                validations={[required]}\n              />\n\n              <label htmlFor=\"password\"></label>\n              <Input\n                type=\"password\"\n                className=\"signin\"\n                name=\"password\"\n                placeholder=\"비밀번호\"\n                value={this.state.password}\n                onChange={this.onChangePassword}\n                validations={[required]}\n              />\n              </div>\n\n              <div>\n              <button\n                className=\"signin-btn\"\n                disabled={this.state.loading}\n              >\n                {this.state.loading && (\n                  <span className=\"spinner-border spinner-border-sm\"></span>\n                )}\n                <span>로그인</span>\n              </button>\n              <p style={{color: 'white', marginTop: '20px', fontSize: '14px'}}>계정이 없으신가요?<button className=\"signupbtn\" onClick={() => {\n                this.props.router.navigate('/register');}}>회원가입</button></p>\n            </div>\n\n            {this.state.message && (\n              <div className=\"form-group\">\n                <div className=\"alert alert-danger\" role=\"alert\" style={{ fontSize : '14px' }}>\n                  {this.state.message}\n                </div>\n              </div>\n            )}\n            <CheckButton\n              style={{ display: \"none\" }}\n              ref={c => {\n                this.checkBtn = c;\n              }}\n            />\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}