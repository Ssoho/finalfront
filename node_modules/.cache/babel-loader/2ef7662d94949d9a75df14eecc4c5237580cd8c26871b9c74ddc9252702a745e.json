{"ast":null,"code":"import _regeneratorRuntime from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/\\uBC15\\uD604\\uD638/\\uD504\\uB85C\\uC81D\\uD2B8/react-jwt-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{Nav}from'react-bootstrap';import{useState}from\"react\";import axios from\"axios\";import Searchresult from\"./Searchresult\";import\"./../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Top=function Top(_ref){var currentUser=_ref.currentUser,showModeratorBoard=_ref.showModeratorBoard,showAdminBoard=_ref.showAdminBoard,logOut=_ref.logOut,setSearchResults=_ref.setSearchResults;var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var handleInputChange=function handleInputChange(event){setInputValue(event.target.value);};var handleSearchClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var encodedInputValue,response1,response2,response3,resultdata1,resultdata2,resultdata3;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;encodedInputValue=encodeURIComponent(inputValue);_context.next=5;return axios.get(\"http://localhost:8080/api/search/song?keyword=\".concat(encodedInputValue));case 5:response1=_context.sent;_context.next=8;return axios.get(\"http://localhost:8080/api/search/artist?keyword=\".concat(encodedInputValue));case 8:response2=_context.sent;_context.next=11;return axios.get(\"http://localhost:8080/api/search/lyric?keyword=\".concat(encodedInputValue));case 11:response3=_context.sent;resultdata1=typeof response1.data==='string'?JSON.parse(response1.data):response1.data;resultdata2=typeof response1.data==='string'?JSON.parse(response2.data):response2.data;resultdata3=typeof response1.data==='string'?JSON.parse(response3.data):response3.data;setSearchResults({resultdata1:resultdata1,resultdata2:resultdata2,resultdata3:resultdata3});navigate(\"/searchresult\");_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 22:case\"end\":return _context.stop();}},_callee,null,[[1,19]]);}));return function handleSearchClick(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Nav,{style:{marginBottom:'30px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"navbar\",style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearchClick,style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"watermelon_logo.jpg\",alt:\"Watermelon\",style:{width:'250px',height:'auto',margin:'10px',cursor:'pointer'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-background\",style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",type:\"submit\",style:{background:\"url('search.png') no-repeat center\",backgroundSize:'cover',width:'20px',height:'20px',margin:'10px',display:'flex',alignItems:'center',border:'none',// 테두리 제거\noutline:'none',// 클릭 시 포커스 테두리 제거    \njustifyContent:'center'}}),/*#__PURE__*/_jsx(\"input\",{className:\"search-input\",type:\"text\",placeholder:\"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",value:inputValue,onChange:handleInputChange}),showModeratorBoard&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/mod\",className:\"nav-link\",children:\"Moderator Board\"})}),showAdminBoard&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"nav-link\",children:\"Admin Board\"})})]}),currentUser?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"navbarMenu\",style:{display:'flex',flexDirection:'row',marginRight:'10px'},children:[/*#__PURE__*/_jsxs(Link,{to:\"/profile\",style:{color:\"white\"},className:\"nav-link\",children:[currentUser.username,\"\\uB2D8\\uC758 \\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"]}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",style:{color:\"white\"},className:\"nav-link\",onClick:logOut,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"navbarMenu\",style:{display:'flex',flexDirection:'row',marginRight:'10px'},children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",style:{color:\"white\"},className:\"nav-link\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{color:\"white\"},className:\"nav-link\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})]})})});};export default Top;","map":{"version":3,"names":["React","Link","useNavigate","Nav","useState","axios","Searchresult","jsx","_jsx","jsxs","_jsxs","Top","_ref","currentUser","showModeratorBoard","showAdminBoard","logOut","setSearchResults","navigate","_useState","_useState2","_slicedToArray","inputValue","setInputValue","handleInputChange","event","target","value","handleSearchClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","encodedInputValue","response1","response2","response3","resultdata1","resultdata2","resultdata3","wrap","_callee$","_context","prev","next","preventDefault","encodeURIComponent","get","concat","sent","data","JSON","parse","t0","console","log","stop","_x","apply","arguments","style","marginBottom","children","className","display","justifyContent","onSubmit","alignItems","to","src","alt","width","height","margin","cursor","type","background","backgroundSize","border","outline","placeholder","onChange","flexDirection","marginRight","color","username","href","onClick"],"sources":["C:/박현호/프로젝트/react-jwt-auth/src/components/Top.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { Nav } from 'react-bootstrap';\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Searchresult from \"./Searchresult\";\r\nimport \"./../App.css\";\r\n\r\nconst Top = ({ currentUser, showModeratorBoard, showAdminBoard, logOut, setSearchResults }) => {\r\n    const navigate = useNavigate();\r\n    const [inputValue, setInputValue] = useState('');\r\n\r\n    const handleInputChange = (event) => {\r\n        setInputValue(event.target.value);\r\n      };\r\n\r\n    const handleSearchClick = async (event) => {\r\n        event.preventDefault();\r\n        try{\r\n        const encodedInputValue = encodeURIComponent(inputValue);\r\n        const response1 = await axios.get(`http://localhost:8080/api/search/song?keyword=${encodedInputValue}`);\r\n        const response2 = await axios.get(`http://localhost:8080/api/search/artist?keyword=${encodedInputValue}`);\r\n        const response3 = await axios.get(`http://localhost:8080/api/search/lyric?keyword=${encodedInputValue}`);\r\n        const resultdata1 = typeof response1.data === 'string' ? JSON.parse(response1.data) : response1.data;\r\n        const resultdata2 = typeof response1.data === 'string' ? JSON.parse(response2.data) : response2.data;\r\n        const resultdata3 = typeof response1.data === 'string' ? JSON.parse(response3.data) : response3.data;        \r\n\r\n        setSearchResults({\r\n            resultdata1: resultdata1,\r\n            resultdata2: resultdata2,\r\n            resultdata3: resultdata3\r\n          });\r\n    \r\n          navigate(\"/searchresult\");\r\n\r\n        }\r\n        catch(e){\r\n            console.log(e)\r\n        }\r\n    };\r\n\r\n  return (\r\n    <Nav style={{ marginBottom : '30px' }}>\r\n      <div className=\"navbar\" style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <form onSubmit={handleSearchClick} style={{ display: 'flex', alignItems: 'center' }}>\r\n            <Link to={\"/\"}>\r\n            <img src=\"watermelon_logo.jpg\" alt=\"Watermelon\" style={{ width: '250px', height: 'auto', margin: '10px', cursor : 'pointer' }}/>\r\n            </Link>\r\n            <div className='search-background' style={{ display: 'flex', alignItems: 'center' }}>\r\n            <button\r\n        className=\"btn btn-success\" type=\"submit\"\r\n        style={{\r\n        background: `url('search.png') no-repeat center`,\r\n        backgroundSize: 'cover',\r\n        width: '20px',\r\n        height: '20px',\r\n        margin: '10px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        border: 'none', // 테두리 제거\r\n        outline: 'none', // 클릭 시 포커스 테두리 제거    \r\n        justifyContent: 'center',\r\n        }}\r\n        \r\n        />\r\n        <input className=\"search-input\" type=\"text\" placeholder=\"검색어를 입력해주세요\"\r\n        value={inputValue}\r\n        onChange={handleInputChange}        \r\n        />\r\n\r\n            {showModeratorBoard && (\r\n                <li className=\"nav-item\">\r\n                <Link to={\"/mod\"} className=\"nav-link\">\r\n                    Moderator Board\r\n                </Link>\r\n                </li>\r\n            )}\r\n\r\n            {showAdminBoard && (\r\n                <li className=\"nav-item\">\r\n                <Link to={\"/admin\"} className=\"nav-link\">\r\n                    Admin Board\r\n                </Link>\r\n                </li>\r\n            )}\r\n            </div>\r\n\r\n            {/* {currentUser && (\r\n                <li className='navbarMenu'>\r\n                <Link to={\"/profile\"}  style={{ color: \"white\" }} className=\"nav-link\">\r\n                    {currentUser.username}님의 마이페이지\r\n                </Link>\r\n                </li>\r\n            )} */}\r\n            \r\n\r\n            {currentUser ? (\r\n            <div>\r\n\r\n                <li className='navbarMenu' style={{ display: 'flex', flexDirection: 'row', marginRight: '10px' }}>\r\n                <Link to={\"/profile\"}  style={{ color: \"white\" }} className=\"nav-link\">\r\n                    {currentUser.username}님의 마이페이지\r\n                </Link>\r\n\r\n                <a href=\"/\" style={{ color: \"white\" }} className=\"nav-link\" onClick={logOut}>\r\n                    로그아웃\r\n                </a>\r\n                </li>\r\n            </div>\r\n            ) : (\r\n            <div>\r\n                <li className='navbarMenu' style={{ display: 'flex', flexDirection: 'row', marginRight: '10px' }}>\r\n                <Link to={\"/login\"} style={{ color: \"white\" }} className=\"nav-link\">\r\n                    로그인\r\n                </Link>\r\n\r\n                <Link to={\"/register\"} style={{ color: \"white\" }} className=\"nav-link\">\r\n                    회원가입\r\n                </Link>\r\n                </li>\r\n            </div>\r\n            )}\r\n            </form>\r\n\r\n        {/* <AuthVerify logOut={this.logOut}/> */}\r\n        </div>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Top;\r\n"],"mappings":"ycAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,GAAG,KAAQ,iBAAiB,CACrC,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtB,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAAC,IAAA,CAAsF,IAAhF,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAEC,kBAAkB,CAAAF,IAAA,CAAlBE,kBAAkB,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,MAAM,CAAAJ,IAAA,CAANI,MAAM,CAAEC,gBAAgB,CAAAL,IAAA,CAAhBK,gBAAgB,CACpF,GAAM,CAAAC,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,IAAAiB,SAAA,CAAoCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEhC,GAAM,CAAAI,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,KAAK,CAAK,CACjCF,aAAa,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACnC,CAAC,CAEH,GAAM,CAAAC,iBAAiB,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOR,KAAK,MAAAS,iBAAA,CAAAC,SAAA,CAAAC,SAAA,CAAAC,SAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,QAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClCpB,KAAK,CAACqB,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAC,IAAA,GAEjBV,iBAAiB,CAAGa,kBAAkB,CAACzB,UAAU,CAAC,CAAAqB,QAAA,CAAAE,IAAA,SAChC,CAAAxC,KAAK,CAAC2C,GAAG,kDAAAC,MAAA,CAAkDf,iBAAiB,CAAE,CAAC,QAAjGC,SAAS,CAAAQ,QAAA,CAAAO,IAAA,CAAAP,QAAA,CAAAE,IAAA,SACS,CAAAxC,KAAK,CAAC2C,GAAG,oDAAAC,MAAA,CAAoDf,iBAAiB,CAAE,CAAC,QAAnGE,SAAS,CAAAO,QAAA,CAAAO,IAAA,CAAAP,QAAA,CAAAE,IAAA,UACS,CAAAxC,KAAK,CAAC2C,GAAG,mDAAAC,MAAA,CAAmDf,iBAAiB,CAAE,CAAC,SAAlGG,SAAS,CAAAM,QAAA,CAAAO,IAAA,CACTZ,WAAW,CAAG,MAAO,CAAAH,SAAS,CAACgB,IAAI,GAAK,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAAClB,SAAS,CAACgB,IAAI,CAAC,CAAGhB,SAAS,CAACgB,IAAI,CAC9FZ,WAAW,CAAG,MAAO,CAAAJ,SAAS,CAACgB,IAAI,GAAK,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACjB,SAAS,CAACe,IAAI,CAAC,CAAGf,SAAS,CAACe,IAAI,CAC9FX,WAAW,CAAG,MAAO,CAAAL,SAAS,CAACgB,IAAI,GAAK,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAAChB,SAAS,CAACc,IAAI,CAAC,CAAGd,SAAS,CAACc,IAAI,CAEpGlC,gBAAgB,CAAC,CACbqB,WAAW,CAAEA,WAAW,CACxBC,WAAW,CAAEA,WAAW,CACxBC,WAAW,CAAEA,WACf,CAAC,CAAC,CAEFtB,QAAQ,CAAC,eAAe,CAAC,CAACyB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAIxBY,OAAO,CAACC,GAAG,CAAAb,QAAA,CAAAW,EAAE,CAAC,0BAAAX,QAAA,CAAAc,IAAA,MAAAxB,OAAA,iBAErB,kBAvBK,CAAAL,iBAAiBA,CAAA8B,EAAA,SAAA7B,KAAA,CAAA8B,KAAA,MAAAC,SAAA,OAuBtB,CAEH,mBACEpD,IAAA,CAACL,GAAG,EAAC0D,KAAK,CAAE,CAAEC,YAAY,CAAG,MAAO,CAAE,CAAAC,QAAA,cACpCvD,IAAA,QAAKwD,SAAS,CAAC,QAAQ,CAACH,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAS,CAAE,CAAAH,QAAA,cAC3ErD,KAAA,SAAMyD,QAAQ,CAAEvC,iBAAkB,CAACiC,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAS,CAAE,CAAAL,QAAA,eAChFvD,IAAA,CAACP,IAAI,EAACoE,EAAE,CAAE,GAAI,CAAAN,QAAA,cACdvD,IAAA,QAAK8D,GAAG,CAAC,qBAAqB,CAACC,GAAG,CAAC,YAAY,CAACV,KAAK,CAAE,CAAEW,KAAK,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAG,SAAU,CAAE,CAAC,CAAC,CAC1H,CAAC,cACPjE,KAAA,QAAKsD,SAAS,CAAC,mBAAmB,CAACH,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAS,CAAE,CAAAL,QAAA,eACpFvD,IAAA,WACJwD,SAAS,CAAC,iBAAiB,CAACY,IAAI,CAAC,QAAQ,CACzCf,KAAK,CAAE,CACPgB,UAAU,qCAAsC,CAChDC,cAAc,CAAE,OAAO,CACvBN,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,MAAM,CACdT,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBW,MAAM,CAAE,MAAM,CAAE;AAChBC,OAAO,CAAE,MAAM,CAAE;AACjBd,cAAc,CAAE,QAChB,CAAE,CAED,CAAC,cACF1D,IAAA,UAAOwD,SAAS,CAAC,cAAc,CAACY,IAAI,CAAC,MAAM,CAACK,WAAW,CAAC,+DAAa,CACrEtD,KAAK,CAAEL,UAAW,CAClB4D,QAAQ,CAAE1D,iBAAkB,CAC3B,CAAC,CAEGV,kBAAkB,eACfN,IAAA,OAAIwD,SAAS,CAAC,UAAU,CAAAD,QAAA,cACxBvD,IAAA,CAACP,IAAI,EAACoE,EAAE,CAAE,MAAO,CAACL,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,iBAEvC,CAAM,CAAC,CACH,CACP,CAEAhD,cAAc,eACXP,IAAA,OAAIwD,SAAS,CAAC,UAAU,CAAAD,QAAA,cACxBvD,IAAA,CAACP,IAAI,EAACoE,EAAE,CAAE,QAAS,CAACL,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,aAEzC,CAAM,CAAC,CACH,CACP,EACI,CAAC,CAWLlD,WAAW,cACZL,IAAA,QAAAuD,QAAA,cAEIrD,KAAA,OAAIsD,SAAS,CAAC,YAAY,CAACH,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEkB,aAAa,CAAE,KAAK,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAArB,QAAA,eACjGrD,KAAA,CAACT,IAAI,EAACoE,EAAE,CAAE,UAAW,CAAER,KAAK,CAAE,CAAEwB,KAAK,CAAE,OAAQ,CAAE,CAACrB,SAAS,CAAC,UAAU,CAAAD,QAAA,EACjElD,WAAW,CAACyE,QAAQ,CAAC,6CAC1B,EAAM,CAAC,cAEP9E,IAAA,MAAG+E,IAAI,CAAC,GAAG,CAAC1B,KAAK,CAAE,CAAEwB,KAAK,CAAE,OAAQ,CAAE,CAACrB,SAAS,CAAC,UAAU,CAACwB,OAAO,CAAExE,MAAO,CAAA+C,QAAA,CAAC,0BAE7E,CAAG,CAAC,EACA,CAAC,CACJ,CAAC,cAENvD,IAAA,QAAAuD,QAAA,cACIrD,KAAA,OAAIsD,SAAS,CAAC,YAAY,CAACH,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEkB,aAAa,CAAE,KAAK,CAAEC,WAAW,CAAE,MAAO,CAAE,CAAArB,QAAA,eACjGvD,IAAA,CAACP,IAAI,EAACoE,EAAE,CAAE,QAAS,CAACR,KAAK,CAAE,CAAEwB,KAAK,CAAE,OAAQ,CAAE,CAACrB,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,oBAEpE,CAAM,CAAC,cAEPvD,IAAA,CAACP,IAAI,EAACoE,EAAE,CAAE,WAAY,CAACR,KAAK,CAAE,CAAEwB,KAAK,CAAE,OAAQ,CAAE,CAACrB,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,0BAEvE,CAAM,CAAC,EACH,CAAC,CACJ,CACJ,EACK,CAAC,CAGN,CAAC,CACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAApD,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}